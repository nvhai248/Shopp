<style>
  .task-item { @apply flex items-center mb-2; } .delete-button { @apply
  bg-red-500 text-white border-none py-1 px-2 rounded cursor-pointer; }
</style>
<div>
  <h3 class='text-2xl font-medium text-gray-700'>Create new Product</h3>
  <div class='flex flex-col mt-8 h-full w-full'>
    <div class='py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8'>
      <form>
        <div class='grid grid-cols-3 gap-4'>
          <!-- Avatar Upload -->
          <div>
            <div class='relative'>
              <label
                for='product-avatar'
                class='block text-gray-700'
              >Avatar</label>
              <input
                type='file'
                id='product-avatar'
                name='avatar'
                accept='image/*'
                class='absolute inset-0 w-full h-full opacity-0 cursor-pointer'
                onchange='previewImage(event)'
              />
              <div
                class='w-full bg-white border border-gray-300 rounded-md flex items-center justify-center py-2 px-4'
              >
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  class='h-6 w-6 text-gray-500 mr-2'
                  fill='none'
                  viewBox='0 0 24 24'
                  stroke='currentColor'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 6v6m0 0v6m0-6h6m-6 0H6'
                  />
                </svg>
                <span class='text-gray-500'>Select File</span>
              </div>
            </div>

            <div id='preview-container' class='hidden'>
              <img id='image-preview' class='w-[300px] rounded-md mt-2' />
            </div>
          </div>

          <!-- Product Information -->
          <div class='col-span-2 flex flex-col'>
            <div class='mb-4'>
              <label for='product-name' class='block text-gray-700'>Name</label>
              <input
                type='text'
                id='product-name'
                name='name'
                class='w-full px-3 py-2 mt-1 border rounded-md'
              />
            </div>

            <div class='mb-4'>
              <label
                for='product-description'
                class='block text-gray-700'
              >Description</label>
              <textarea
                id='product-description'
                name='description'
                class='w-full px-3 py-2 mt-1 border rounded-md'
              ></textarea>
            </div>

            <div class='mb-4 flex flex-row'>
              <div>
                <label
                  for='product-price'
                  class='block text-gray-700'
                >Price</label>
                <input
                  type='number'
                  id='product-price'
                  name='price'
                  class='w-full px-3 py-2 mt-1 border rounded-md'
                />
              </div>

              <div class='ml-4'>
                <label
                  for='product-category'
                  class='block text-gray-700'
                >Category</label>
                <select
                  id='product-category'
                  name='product-category'
                  class='w-[12rem] px-6 py-2 mt-1 border border-gray-300 bg-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500'
                >
                  {{#each categories}}
                    <option value='{{id}}'>{{name}}</option>
                  {{/each}}
                </select>
              </div>

              <div class='ml-4'>
                <label
                  for='product-publisher'
                  class='block text-gray-700'
                >Publisher</label>
                <select
                  id='product-publisher'
                  name='product-publisher'
                  class='w-[12rem] px-6 py-2 mt-1 border border-gray-300 bg-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500'
                >
                  {{#each publishers}}
                    <option value='{{id}}'><img
                        src='{{avatar}}'
                        class='w-10 h-10'
                        alt='avt'
                      />{{name}}</option>
                  {{/each}}
                </select>
              </div>

              <div class='ml-4'>
                <label
                  for='product-authors'
                  class='block text-gray-700'
                >Authors</label>
                <div class='flex flex-row'>
                  <input
                    type='text'
                    id='product-authors'
                    name='authors'
                    class='w-full px-3 mt-1 h-[2.6rem] border rounded-md'
                    placeholder='Add multiple authors separated by commas'
                  />
                  <button
                    type='button'
                    onclick='addAuthors()'
                    class='bg-black ml-4 rounded-md mt-1 text-white px-4 hover:bg-gray-800'
                  >Add</button>
                </div>

              </div>
            </div>
            <div
              id='authors-container'
              class='mt-2 col-span-2 flex flex-row max-w-[30rem]'
            ></div>

          </div>

          <div class='col-span-3'>
            <label
              for='product-thumbnails'
              class='block text-gray-700'
            >Thumbnails</label>
            <input
              type='file'
              id='product-thumbnails'
              name='thumbnails'
              accept='image/*'
              multiple
              class='absolute w-full px-3 py-2 mt-1 border rounded-md opacity-0 cursor-pointer'
              onchange='previewThumbnails(event)'
            />
            <div
              class='w-full bg-white border border-gray-300 rounded-md flex items-center justify-center py-2 px-4 cursor-pointer'
              onclick="document.getElementById('product-thumbnails').click()"
            >
              <svg
                xmlns='http://www.w3.org/2000/svg'
                class='h-6 w-6 text-gray-500 mr-2'
                fill='none'
                viewBox='0 0 24 24'
                stroke='currentColor'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M12 6v6m0 0v6m0-6h6m-6 0H6'
                />
              </svg>
              <span class='text-gray-500'>Add Thumbnail</span>
            </div>
            <div
              id='thumbnails-container'
              class='mt-2 flex flex-wrap gap-2'
            ></div>
          </div>

          <button
            type='button'
            onclick='submitCreateProduct()'
            class='col-span-3 bg-black text-white py-2 rounded-md hover:bg-gray-800'
          >Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script src='js/product/core.js'></script>
<script src='js/product/create.js'></script>
<script src='js/upload.js'></script>